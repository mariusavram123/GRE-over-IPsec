This is the Cisco documentation for GRE over IPsec tunnel configuration and guidelines:

https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst9300/software/release/17-11/configuration_guide/sec/b_1711_sec_9300_cg/configuring_gre_over_ipsec.pdf
